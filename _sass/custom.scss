@import url('https://fonts.googleapis.com/css2?family=EB+Garamond:wght@400;600;700&family=Lato:wght@300;400;700&display=swap');

/* ===== Brand + font vars ===== */
$brand-main: #0A1F44;      /* dark navy */
$brand-secondary: #6699CC; /* light blue */
$font-serif: "EB Garamond", serif;
$font-sans: "Lato", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;

/* ===== Global typography ===== */

/* Default body text = Lato */
html, body {
  font-family: $font-sans !important;   /* Lato */
  color: #222;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Headings = EB Garamond */
h1, h2, h3, h4, h5, h6,
.page__title,
.entry-title,
.archive__item-title,
.site-title {
  font-family: $font-serif !important;  /* EB Garamond */
  color: $brand-main;
}

/* Project excerpts, paragraphs, lists, blockquotes, etc. = Lato */
p, li, blockquote,
.archive__item-excerpt,
.page__content {
  font-family: $font-sans !important;   /* Lato */
}


/* Links */
a { color: $brand-secondary; text-underline-offset: 2px; }
a:hover, a:focus { color: darken($brand-secondary, 12%); }

/* ===== Masthead (top bar) ===== */
.masthead, .masthead .greedy-nav { background-color: $brand-main; }
.masthead .site-title,
.masthead .site-title a,
.masthead .greedy-nav a,
.masthead__menu-item > a { color: #fff !important; }

/* Use Lato for navigation/UI text in the header */
.masthead, .masthead * { font-family: $font-sans !important; }

/* Larger site title */
.masthead .site-title,
.masthead .site-title a {
  font-family: $font-serif !important;
  font-size: 1.5rem !important;
  font-weight: 700;
  color: #ffffff !important;
}

/* Hide site subtitle in masthead */
.masthead .site-subtitle { display: none !important; }

/* Mobile hamburger */
.greedy-nav__toggle,
.greedy-nav__toggle:hover,
.greedy-nav__toggle:focus,
.greedy-nav .hamburger,
.greedy-nav .hamburger:before,
.greedy-nav .hamburger:after {
  color: #fff !important;
  background-color: $brand-main !important;
}

/* ==== Mobile nav colors ==== */
@media (max-width: 860px) {
  .masthead,
  .masthead .greedy-nav,
  .greedy-nav .visible-links,
  .greedy-nav .hidden-links {
    background-color: $brand-main !important;
  }
  .greedy-nav a,
  .greedy-nav .hidden-links a { color: #ffffff !important; }
  .greedy-nav .hidden-links li { border-color: rgba(255,255,255,0.15) !important; }
}

/* ===== Sidebar (author panel) — no blue background ===== */
.page__sidebar,
.page__sidebar .sidebar {
  background: transparent !important;
  box-shadow: none;
}

/* Sidebar fonts = EB Garamond */
.page__sidebar, .page__sidebar * {
  font-family: $font-serif !important;
  color: inherit;
}

/* ===== Buttons/UI ===== */
.btn, .btn--primary { font-family: $font-sans; }
.btn--primary { background-color: $brand-main; border-color: $brand-main; }
.btn--primary:hover, .btn--primary:focus {
  background-color: darken($brand-main, 6%);
  border-color: darken($brand-main, 6%);
}

/* Card border */
.archive__item { border-color: rgba(10,31,68,0.08); }

/* ===== Footer ===== */
.page__footer {
  background: $brand-secondary;
  color: #fff;
  border-top: 0;
}
.page__footer p,
.page__footer li,
.page__footer small,
.page__footer span,
.page__footer strong,
.page__footer em,
.page__footer .footer__copyright,
.page__footer .page__footer-follow {
  font-family: $font-sans !important;
  color: #fff;
}
.page__footer a { color: #fff; }
.page__footer a:hover { text-decoration: underline; }
.page__footer i,
.page__footer .fas,
.page__footer .far { font-family: "Font Awesome 5 Free" !important; font-weight: 900; color: #fff; }
.page__footer .fab { font-family: "Font Awesome 5 Brands" !important; font-weight: 400; color: #fff; }

/* =========================
   HOMEPAGE (grid with author sidebar) — 2 per row
   ========================= */
/* Scope to pages that have the author sidebar (homepage) */
.layout--collection .page__sidebar + .page__content .entries-grid {
  display: grid !important;
  grid-template-columns: repeat(2, minmax(320px, 1fr)) !important;
  gap: 2rem !important;
}
@media (max-width: 900px) {
  .layout--collection .page__sidebar + .page__content .entries-grid {
    grid-template-columns: 1fr !important;
  }
}
/* Keep items behaving inside the grid cells */
.layout--collection .page__sidebar + .page__content .entries-grid > * {
  width: auto !important;
  margin: 0 !important;
}
/* Teasers scale correctly in the grid */
.layout--collection .page__sidebar + .page__content .archive__item-teaser img {
  width: 100% !important;
  height: auto !important;
  display: block !important;
}

/* =========================================
   PROJECTS PAGE — list layout (tight + divider)
   Requires: classes: wide projects-list, show_excerpts: true
   ========================================= */
.projects-list .archive__item {
  max-width: 960px;
  margin: 0 auto 0.5rem;                /* smaller gap under each item */
  padding-bottom: 0.5rem;               /* keep text off the divider */
  border-bottom: 1px solid rgba(#0A1F44, 0.15);
}

.projects-list .archive__item-title {
  margin: 0 0 0.25rem;                  /* remove top gap, tighten to excerpt */
}
.projects-list .archive__item-excerpt {
  margin: 0.25rem 0 0;                  /* tight above divider */
}

/* Left thumbnail, consistent 3:2 (each project needs top-level `teaser:`) */
.projects-list .archive__item-teaser {
  flex: 0 0 300px;
  margin-right: 1.25rem;
  border-radius: 6px;
  overflow: hidden;
  aspect-ratio: 3 / 2;
  display: block;
}
.projects-list .archive__item-teaser img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

/* Text column */
.projects-list .archive__item-body {
  flex: 1;
  min-width: 0;
}

/* Homepage: force 2-up grid (scoped) */
.home-2up .grid__wrapper {
  display: flex;            /* MM already uses flex; this is safe */
  flex-wrap: wrap;
  gap: 2rem;
}

.home-2up .grid__item {
  width: calc(50% - 1rem) !important;   /* 2 columns */
}

@media (max-width: 900px) {
  .home-2up .grid__item {
    width: 100% !important;             /* 1 column on mobile */
  }
}

/* Center the projects list block under the heading */
.projects-list .page__content {
  display: flex;
  flex-direction: column;
  align-items: center;   /* centers the child items */
}

.projects-list .archive__item {
  /* Do NOT set width:100% here; that breaks centering */
  max-width: 960px;
  margin: 0 auto 0.5rem;    /* centers the block and keeps tighter spacing */
  padding-bottom: 0.5rem;   /* keep text off the divider */
  border-bottom: 1px solid rgba(#0A1F44, 0.15);
  text-align: left;
}

/* === Projects page: center the content column and tune type === */

/* Center the page content area itself (so left/right whitespace is even) */
.projects-list .page__content {
  max-width: 960px;        /* adjust to taste: 920–1100px works well */
  margin-left: auto;
  margin-right: auto;
  padding-left: 1rem;       /* safe gutters */
  padding-right: 1rem;
}

/* Keep each item inside that centered column; keep tight spacing */
.projects-list .archive__item {
  max-width: 920px;         /* stays a touch narrower than the content area */
  margin: 0 auto 0.5rem;    /* centered; small gap under each item */
  padding-bottom: 0.5rem;   /* small space above divider */
  border-bottom: 1px solid rgba(#0A1F44, 0.15);
  text-align: left;         /* do NOT center paragraph text */
}

/* Make the Lato excerpt a bit smaller on this page only */
.projects-list .archive__item-excerpt {
  font-size: 0.75rem !important;   /* was 0.95rem globally */
  line-height: 1.5;
  margin: 0.25rem 0 0;
}

/* Keep the title tight to the excerpt */
.projects-list .archive__item-title {
  margin: 0 0 0.25rem;
}

/* Optional: slightly smaller excerpt on this page */
.projects-list .archive__item-excerpt {
  font-size: 0.85rem !important;
  line-height: 1.5 !important;
}

/* Center the whole content column on the Projects page */
.projects-list .page__inner-wrap {
  max-width: 1100px !important;     /* adjust 980–1200 to taste */
  margin-left: auto !important;
  margin-right: auto !important;
  padding-left: 1rem !important;    /* symmetric gutters */
  padding-right: 1rem !important;
}

/* Keep the archive (list) nicely constrained inside that centered column */
.projects-list .archive {
  max-width: 980px !important;      /* a bit narrower than the wrapper */
  margin-left: auto !important;
  margin-right: auto !important;
}

/* Tight spacing + left-aligned text stays */
.projects-list .archive__item {
  max-width: 980px !important;
  margin: 0 auto 0.5rem !important;
  padding-bottom: 0.5rem !important;
  border-bottom: 1px solid rgba(#0A1F44, 0.15) !important;
  text-align: left !important;
}

/* Smaller excerpt size only on Projects */
.projects-list .archive__item-excerpt {
  font-size: 0.75rem !important;
  line-height: 1.5 !important;
}


/* Projects list: teaser on the left */
.projects-list .archive__item {
  display: flex;             /* side-by-side layout */
  align-items: flex-start;   /* align image + text at the top */
  gap: 1rem;                 /* space between teaser and text */
  max-width: 960px;
  margin: 0 auto 0.75rem;
  padding-bottom: 0.75rem;
  border-bottom: 1px solid rgba(#0A1F44, 0.15);
}

/* Thumbnail column */
.projects-list .archive__item-teaser {
  flex: 0 0 200px;        /* fixed width column */
  aspect-ratio: 3 / 2;    /* consistent shape */
  border-radius: 6px;
  overflow: hidden;
}
.projects-list .archive__item-teaser img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

/* Text column */
.projects-list .archive__item-body {
  flex: 1;
  min-width: 0;
}
.projects-list .archive__item-title {
  margin: 0 0 0.25rem;
}
.projects-list .archive__item-excerpt {
  font-size: 0.85rem !important;
  line-height: 1.45;
  margin: 0.25rem 0 0;
}


/* ===== Projects list: teaser LEFT (only if exists), text RIGHT ===== */

/* Base row styling + divider */
.projects-list .archive__item {
  margin: 0 auto 0.75rem;
  padding-bottom: 0.75rem;
  border-bottom: 1px solid rgba(#0A1F44, 0.15);
  display: block; /* default = single column */
}

/* Only switch to grid if teaser exists */
.projects-list .archive__item.has-teaser {
  display: grid;
  grid-template-columns: 240px 1fr;  /* teaser | text */
  column-gap: 1rem;
  align-items: start;
}

/* Teaser column */
.projects-list .archive__item-teaser {
  border-radius: 6px;
  overflow: hidden;
  aspect-ratio: 3 / 2;   /* consistent shape */
  margin: 0 !important;
}
.projects-list .archive__item-teaser img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

/* Text column */
.projects-list .archive__item-body { min-width: 0; }
.projects-list .archive__item-title { margin: 0 0 0.25rem; }
.projects-list .archive__item-excerpt {
  font-size: 0.75rem;
  line-height: 1.5;
  margin: 0.25rem 0 0;
}

/* Mobile: stack image above text */
@media (max-width: 720px) {
  .projects-list .archive__item.has-teaser {
    grid-template-columns: 1fr;
    row-gap: 0.5rem;
  }
  .projects-list .archive__item-teaser { aspect-ratio: 3 / 2; }
}



/* ===============================
   PROJECT PAGES (single layout)
   =============================== */

/* Bigger page title */
.layout--single .page__title {
  font-size: 2rem !important;
  line-height: 1.2 !important;
  margin-bottom: 0.5rem !important;
  font-weight: 700 !important;
}

/* H2 */
.layout--single .page__content h2 {
  font-size: 1.5rem !important;
  line-height: 1.2 !important;          /* enough room for descenders */
  margin-top: 1rem !important;
  margin-bottom: 0 !important;
  padding-bottom: 0.35rem !important;   /* lowers underline slightly */
  border-bottom: 1px solid #ccc !important;
}

/* H3 */
.layout--single .page__content h3 {
  font-size: 1.35rem !important;
  line-height: 1.2 !important;
  margin-top: 0.9rem !important;
  margin-bottom: 0 !important;
  padding-bottom: 0.3rem !important;
  border-bottom: 1px solid #ddd !important;
}

/* H4 */
.layout--single .page__content h4 {
  font-size: 1.15rem !important;
  line-height: 1.2 !important;
  margin-top: 0.8rem !important;
  margin-bottom: 0 !important;
  padding-bottom: 0.25rem !important;
  border-bottom: 1px solid #e0e0e0 !important;
}

/* Tiny space under the line before content starts */
.layout--single .page__content h2 + *,
.layout--single .page__content h3 + *,
.layout--single .page__content h4 + * {
  margin-top: 0.25rem !important;
}

/* Body text (Lato) — smaller on project pages only */
.layout--single .page__content,
.layout--single .page__content p,
.layout--single .page__content li,
.layout--single .page__content blockquote,
.layout--single .page__content dd {
  font-family: $font-sans !important;   /* Lato */
  font-size: 0.8rem !important;         /* smaller than global */
  line-height: 1.45 !important;
}
